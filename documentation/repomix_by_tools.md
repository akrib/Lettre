This file is a merged representation of the entire codebase, combining all repository files into a single document.
Generated by Repomix on: 2026-02-11 07:04:44

# File Summary

## Purpose:

This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

## File Format:

The content is organized as follows:
1. This summary section
2. Repository information
3. Repository structure
4. Multiple file entries, each consisting of:
   a. A header with the file path (## File: path/to/file)
   b. The full contents of the file in a code block

## Usage Guidelines:

- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

## Notes:

- Some files may have been excluded based on .gitignore rules and Repomix's
  configuration.
- Binary files are not included in this packed representation. Please refer to
  the Repository Structure section for a complete list of file paths, including
  binary files.
- Code comments have been removed.

## Additional Information:

For more information about Repomix, visit: https://github.com/andersonby/python-repomix


# Repository Structure

```
maps
  map.gd
  map_01.tscn
objects
  heart
    heart.gd
    heart.tscn
  pipes
    pipe.gd
    pipe.tscn
  player_fly_tux
    player.gd
    player.tscn
  points
    points.gd
    points.tscn
scenes
  shop_layer.tscn
  title.gd
  title.tscn
  title_menu.gd
  title_menu.tscn
Tanks
  tank-tier_0.tscn
  tank-tier_1.tscn
  tank-tier_2.tscn
  tank-tier_3.tscn
UI
  score.gd
  score.tscn
```

# Repository Files


## maps/map.gd

```text
extends Node2D

@export var hearts = preload("res://objects/heart/heart.tscn")

@onready var display_size = get_viewport().get_visible_rect().size
var game_over = false
var allow_restart = false

var songs = [
	"res://music/airship_2.ogg",
	"res://music/arctic_breeze.ogg",
	"res://music/chipdisko.ogg",
	"res://music/jewels.ogg"
]

func _ready():
	$ShopLayer/Panel.hide()
	$black.visible = false
	$player.data=Global.save_data
	#Global.game_time
	randomize()
	songs.shuffle()
	$music.stream = load(songs[0])
	$music.play()
	$music.volume_db = -10
	Global.pipe_speed = 200.0
	Global.game_time = 0.0
	Global.save_data["nb_run"]+=1
	


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	Global.game_time += delta
	player_dead(delta)

func player_dead(delta):
	if !$player.dead:
		$MagasinButton.hide()
		$player.data["current_chamallow"]+=(Global.heart_speed * delta)/100
		return

		
	if !game_over:
		Global.save_data=$player.data
		Global.save_score()
		game_over = true
		$black.visible = true
		$AnimationPlayer.play("death")
		$MagasinButton.show()

func enable_restart():
	allow_restart = true
	
func create_pipe():
	var heart = hearts.instantiate()
	
	heart.position.x = display_size.x + 128
	heart.position.y += randi_range(-200,200)
	
	#pipe.top_pos += randi_range(-100,100) 
	heart.top_pos += Global.game_time 
	if $PipeTimer.wait_time > 1.5:
		$PipeTimer.wait_time -= .1
	
	get_tree().current_scene.add_child(heart)
	
func _input(event):
	if event is InputEventScreenTouch:
		$exit.visible = true

	if allow_restart:
		if event is InputEventScreenTouch || event is InputEventKey || event is InputEventMouseButton:
			get_tree().change_scene_to_file("res://scenes/title_menu.tscn")
			
func _on_exit_pressed():
	get_tree().quit()
	
	
func _on_store_button_pressed():
	if $ShopLayer/Panel.visible:
		$ShopLayer/Panel.hide()


func _on_magasin_button_pressed():
	$ShopLayer/Panel.show()
	$ShopLayer/Panel/PetShop/GridContainer.get_child(0).grab_focus()
```

## maps/map_01.tscn

```text
[gd_scene load_steps=20 format=3 uid="uid://06q1ik35asbh"]

[ext_resource type="Script" path="res://maps/map.gd" id="1_1x6kq"]
[ext_resource type="Texture2D" uid="uid://c8e86pmrwbub4" path="res://maps/backgrounds/SnowMountainsSky.png" id="1_tu1l3"]
[ext_resource type="Texture2D" uid="uid://clrgqk3axa7vv" path="res://maps/backgrounds/arcticmountains.png" id="2_4mlc7"]
[ext_resource type="PackedScene" uid="uid://p3jlda1m27pr" path="res://objects/player_fly_tux/player.tscn" id="3_vicfd"]
[ext_resource type="PackedScene" uid="uid://1iba13pbminy" path="res://objects/pipes/pipe.tscn" id="4_ap6po"]
[ext_resource type="Texture2D" uid="uid://bl2hfnx5b1k6w" path="res://objects/pipes/window_2.png" id="4_fl1hu"]
[ext_resource type="Texture2D" uid="uid://dtoav6ulevjlw" path="res://UI/game_over.png" id="6_7osr5"]
[ext_resource type="PackedScene" uid="uid://wa7i4u3eh1l4" path="res://objects/heart/heart.tscn" id="6_ivpgc"]
[ext_resource type="PackedScene" uid="uid://dawdf5bq8f78s" path="res://UI/score.tscn" id="7_monjo"]
[ext_resource type="Texture2D" uid="uid://cowelxnn5eiw3" path="res://UI/buttons/exit.png" id="8_ura13"]
[ext_resource type="PackedScene" uid="uid://chjm3ynmt3upt" path="res://scenes/shop_layer.tscn" id="12_nj420"]
[ext_resource type="Theme" uid="uid://bm2ie0ervgafp" path="res://UI/buttons/button.tres" id="35_ncjua"]

[sub_resource type="Shader" id="Shader_ltg1f"]
code = "shader_type canvas_item;

uniform vec2 Direction = vec2(1.0,0.0);
uniform float speed = 0.3;


void fragment(){
	COLOR = texture(TEXTURE,UV + (Direction * TIME * speed));
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nt5ev"]
shader = SubResource("Shader_ltg1f")
shader_parameter/Direction = Vector2(1, 0)
shader_parameter/speed = 0.1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_w086w"]
shader = SubResource("Shader_ltg1f")
shader_parameter/Direction = Vector2(1, 0)
shader_parameter/speed = 0.2

[sub_resource type="Animation" id="Animation_y2drl"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("black:color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Game Over:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("score2/Label:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("score2:modulate")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("score:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_elupy"]
resource_name = "death"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0, 0, 0, 1)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(2.8),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"enable_restart"
}]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("music:volume_db")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 3.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, -80.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("black:color")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Game Over:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Game Over:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("score2/Label:modulate")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(1.5, 3.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("score2:modulate")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("score:modulate")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_brcfn"]
_data = {
"RESET": SubResource("Animation_y2drl"),
"death": SubResource("Animation_elupy")
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_r4abk"]
bg_color = Color(0.6, 0.6, 0.6, 0)

[node name="map" type="Node2D"]
script = ExtResource("1_1x6kq")

[node name="background" type="TextureRect" parent="."]
texture_repeat = 2
material = SubResource("ShaderMaterial_nt5ev")
offset_right = 1160.0
offset_bottom = 650.0
texture = ExtResource("1_tu1l3")
expand_mode = 2

[node name="background2" type="TextureRect" parent="."]
texture_repeat = 2
material = SubResource("ShaderMaterial_w086w")
offset_left = -53.0
offset_top = -7.0
offset_right = 1207.0
offset_bottom = 643.0
texture = ExtResource("2_4mlc7")
expand_mode = 2

[node name="background3" type="TextureRect" parent="."]
texture_repeat = 2
material = SubResource("ShaderMaterial_w086w")
offset_left = -53.0
offset_top = -7.0
offset_right = 1207.0
offset_bottom = 643.0
texture = ExtResource("2_4mlc7")
expand_mode = 2

[node name="score" parent="." instance=ExtResource("7_monjo")]
z_index = 99
offset_right = 216.0
offset_bottom = 48.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
theme_override_constants/shadow_outline_size = 6
theme_override_font_sizes/font_size = 32
vertical_alignment = 1

[node name="score2" parent="." instance=ExtResource("7_monjo")]
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 15.0
offset_top = -79.0
offset_right = 15.0
offset_bottom = -79.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
theme_override_constants/shadow_outline_size = 6
theme_override_font_sizes/font_size = 64
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Label" type="Label" parent="score2"]
modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = -190.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
theme_override_constants/shadow_outline_size = 3
theme_override_constants/line_spacing = -11
theme_override_font_sizes/font_size = 32
text = "Tu n'as pas encore 
atteind Compiegne

Appuie pour continuer"
horizontal_alignment = 1
vertical_alignment = 1

[node name="player" parent="." instance=ExtResource("3_vicfd")]
z_index = 20
position = Vector2(227, 311)

[node name="pipe" parent="." instance=ExtResource("4_ap6po")]
z_index = 10
position = Vector2(624, 324)

[node name="Sprite2D" type="Sprite2D" parent="pipe"]
z_index = 30
position = Vector2(-1, 0)
texture = ExtResource("4_fl1hu")

[node name="Heart" parent="." instance=ExtResource("6_ivpgc")]

[node name="PipeTimer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="music" type="AudioStreamPlayer" parent="."]
autoplay = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_brcfn")
}
autoplay = "RESET"

[node name="MagasinButton" type="Button" parent="."]
offset_left = 79.0
offset_top = 573.0
offset_right = 182.0
offset_bottom = 604.0
size_flags_horizontal = 3
size_flags_vertical = 3
focus_neighbor_left = NodePath("../ShopLayer/Panel/PetShop/GridContainer2/Item2")
focus_neighbor_top = NodePath("../ShopLayer/Panel/PetShop/GridContainer2/Item2")
focus_neighbor_right = NodePath("../ShopLayer/Panel/PetShop/GridContainer/Item0")
focus_neighbor_bottom = NodePath("../ShopLayer/Panel/PetShop/GridContainer/Item0")
theme = ExtResource("35_ncjua")
text = "Magasin"

[node name="black" type="ColorRect" parent="."]
visible = false
offset_right = 1400.0
offset_bottom = 663.0

[node name="Game Over" type="TextureRect" parent="."]
modulate = Color(1, 1, 1, 0)
top_level = true
offset_left = 358.0
offset_top = 374.0
offset_right = 872.0
offset_bottom = 504.0
texture = ExtResource("6_7osr5")

[node name="exit" type="Button" parent="."]
visible = false
z_index = 100
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 445.0
offset_top = 19.0
offset_right = 734.0
offset_bottom = 172.0
grow_horizontal = 0
scale = Vector2(0.52, 0.48)
size_flags_horizontal = 8
theme_override_styles/normal = SubResource("StyleBoxFlat_r4abk")
icon = ExtResource("8_ura13")

[node name="ShopLayer" parent="." instance=ExtResource("12_nj420")]
visible = false

[connection signal="timeout" from="PipeTimer" to="." method="create_pipe"]
[connection signal="pressed" from="MagasinButton" to="." method="_on_magasin_button_pressed"]
[connection signal="pressed" from="exit" to="." method="_on_exit_pressed"]
```

## objects/heart/heart.gd

```text
extends Node2D

@onready var player = get_tree().get_nodes_in_group("players")[0]
@onready var points = preload("res://objects/points/points.tscn")

var top_pos = 300
var active = false

# Called when the node enters the scene tree for the first time.
func _ready():
	$heart_sprite.position.y += top_pos
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	if player.dead:
		return
	position.x -= Global.heart_speed * delta


func crash(body):
	$heart_sprite.play("explode")
	if body.is_in_group("players"):
		body.bounce()
		

func remove():
	queue_free()


#func _on_points_body_entered(body):
	#if body.is_in_group("players"):
		#player.current_score += 100
		#var point = points.instantiate()
		#point.position = player.position
		#point.position.y -= 50
		#get_tree().current_scene.add_child(point)


func _on_heart_sprite_animation_finished():
	if $heart_sprite.current_animation == "explode":
		remove()
```

## objects/heart/heart.tscn

```text
[gd_scene load_steps=15 format=3 uid="uid://wa7i4u3eh1l4"]

[ext_resource type="Script" path="res://objects/heart/heart.gd" id="1_bdfik"]
[ext_resource type="Texture2D" uid="uid://hgpxqp0p70xe" path="res://objects/heart/heart.png" id="1_g6a7e"]

[sub_resource type="AtlasTexture" id="AtlasTexture_wjqy1"]
atlas = ExtResource("1_g6a7e")
region = Rect2(0, 0, 34, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_o6l6d"]
atlas = ExtResource("1_g6a7e")
region = Rect2(0, 0, 34, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_slf7j"]
atlas = ExtResource("1_g6a7e")
region = Rect2(34, 0, 34, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_yx424"]
atlas = ExtResource("1_g6a7e")
region = Rect2(68, 0, 34, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_7tjp4"]
atlas = ExtResource("1_g6a7e")
region = Rect2(102, 0, 34, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_sydfy"]
atlas = ExtResource("1_g6a7e")
region = Rect2(0, 34, 34, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_dcfam"]
atlas = ExtResource("1_g6a7e")
region = Rect2(34, 34, 34, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_0wik2"]
atlas = ExtResource("1_g6a7e")
region = Rect2(68, 34, 34, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_yrt2h"]
atlas = ExtResource("1_g6a7e")
region = Rect2(102, 34, 34, 34)

[sub_resource type="SpriteFrames" id="SpriteFrames_k7j8u"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wjqy1")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_o6l6d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_slf7j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yx424")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7tjp4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sydfy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dcfam")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0wik2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yrt2h")
}],
"loop": true,
"name": &"explode",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_p5aig"]
radius = 11.0

[sub_resource type="SegmentShape2D" id="SegmentShape2D_iabah"]
a = Vector2(63, -561)
b = Vector2(57, 540)

[node name="Heart" type="Node2D"]
script = ExtResource("1_bdfik")

[node name="heart_sprite" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(2, 3)
scale = Vector2(3, 3)
sprite_frames = SubResource("SpriteFrames_k7j8u")
animation = &"explode"
speed_scale = 3.0

[node name="Area2D" type="Area2D" parent="heart_sprite"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="heart_sprite/Area2D"]
position = Vector2(-1, -4)
shape = SubResource("CircleShape2D_p5aig")

[node name="points" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="points"]
shape = SubResource("SegmentShape2D_iabah")

[node name="DeathTimer" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[connection signal="animation_finished" from="heart_sprite" to="." method="_on_heart_sprite_animation_finished"]
[connection signal="body_entered" from="heart_sprite/Area2D" to="." method="crash"]
```

## objects/pipes/pipe.gd

```text
extends Node2D

@onready var player = get_tree().get_nodes_in_group("players")[0]
@onready var points = preload("res://objects/points/points.tscn")

var top_pos = 0
var active = false

# Called when the node enters the scene tree for the first time.
func _ready():
	$top.position.y += top_pos
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	if player.dead:
		return
	position.x -= Global.pipe_speed * delta


func crash(body):
	if body.is_in_group("players"):
		body.death()

func remove():
	queue_free()


func _on_points_body_entered(body):
	if body.is_in_group("players"):
		player.data["current_chamallow"] += 100
		var point = points.instantiate()
		point.position = player.position
		point.position.y -= 50
		get_tree().current_scene.add_child(point)
```

## objects/pipes/pipe.tscn

```text
[gd_scene load_steps=7 format=3 uid="uid://1iba13pbminy"]

[ext_resource type="Texture2D" uid="uid://b5fdy1fn3or54" path="res://objects/pipes/blue.png" id="1_0416q"]
[ext_resource type="Script" path="res://objects/pipes/pipe.gd" id="1_hud12"]
[ext_resource type="Texture2D" uid="uid://bl2hfnx5b1k6w" path="res://objects/pipes/window_2.png" id="3_h2n1p"]
[ext_resource type="Texture2D" uid="uid://eptgytmpl4hp" path="res://objects/pipes/window_1.png" id="4_2of2q"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f2lhh"]
size = Vector2(51, 249)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_27khv"]
a = Vector2(63, -561)
b = Vector2(57, 540)

[node name="pipe" type="Node2D" groups=["pipes"]]
position = Vector2(3, 602)
script = ExtResource("1_hud12")

[node name="top" type="Sprite2D" parent="."]
visible = false
position = Vector2(0, -562)
rotation = 3.14159
scale = Vector2(3, 3)
texture = ExtResource("1_0416q")
flip_h = true

[node name="Area2D" type="Area2D" parent="top"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="top/Area2D"]
position = Vector2(0.5, 0.5)
shape = SubResource("RectangleShape2D_f2lhh")

[node name="bottom" type="Sprite2D" parent="."]
visible = false
position = Vector2(0, 562)
scale = Vector2(3, 3)
texture = ExtResource("1_0416q")

[node name="Area2D" type="Area2D" parent="bottom"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="bottom/Area2D"]
position = Vector2(0.5, 0.5)
shape = SubResource("RectangleShape2D_f2lhh")

[node name="points" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="points"]
shape = SubResource("SegmentShape2D_27khv")

[node name="DeathTimer" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[node name="windows_2" type="Sprite2D" parent="."]
position = Vector2(-467, -5.36442e-07)
scale = Vector2(1.82803, 1)
texture = ExtResource("3_h2n1p")
flip_h = true

[node name="windows_1" type="Sprite2D" parent="."]
position = Vector2(-323, 0)
texture = ExtResource("4_2of2q")

[connection signal="body_entered" from="top/Area2D" to="." method="crash"]
[connection signal="body_entered" from="bottom/Area2D" to="." method="crash"]
[connection signal="body_entered" from="points" to="." method="_on_points_body_entered"]
[connection signal="timeout" from="DeathTimer" to="." method="remove"]
```

## objects/player_fly_tux/player.gd

```text
extends CharacterBody2D


@export var gravity = 9.0
@export var flap_force: int = -6
@onready var sprite = $Sprite
@onready var display_size = get_viewport().get_visible_rect().size

var dead = false
var max_speed = 400
var rotation_speed = 2
var data = {
	"chamallow": 0,
	"current_chamallow": 0,
	"total_chamallow": 0,
	"max_dist": 0,
	"nb_run": 0,
	"total_dist" : 0, 
	"upgrade_list": [1,1,1,1,1,
					1,1,1,1,1,
					1,1,1,1,1,
					1,1,1,1,1,
					1,1,1,1,1,
					1,1,1,1,1,1]
}


func _ready():
	Global.player = self
	velocity = Vector2.ZERO
	

func _physics_process(delta):
	if dead:
		return
		
	velocity.y += gravity * delta
	
	if velocity.y > max_speed:
		velocity.y = max_speed
		
	if position.y > display_size.y + 128 || position.y < -128:
		death()
	
	move_and_collide(velocity * delta)
	rotate_bird()
	
func _input(event):
	if event.is_pressed():
		flap()
		
func flap():
	sprite.play("fly")
	$flap.stop()
	$flap.play()
	velocity.y = flap_force

func rotate_bird():
	# downwards  
	if velocity.y > 0 and rad_to_deg(rotation) < 90:
		sprite.play("fall")
		rotation += rotation_speed * deg_to_rad(0.01)
	# upwards 
	elif velocity.y < 0 and rad_to_deg(rotation) > -10:
		sprite.play("default")
		rotation -= (rotation_speed * deg_to_rad(1) * 0.2)


func death():
	#Global.score.append(current_score)
	dead = true
	$death.play()
	sprite.stop()
	gravity = 0
	velocity = Vector2.ZERO
	
func bounce():
	velocity.y = flap_force*8
	sprite.play("default")
	if velocity.y < 0 and rad_to_deg(rotation) > -20:
		rotation -= (rotation_speed * deg_to_rad(1) * 0.6)
```

## objects/player_fly_tux/player.tscn

```text
[gd_scene load_steps=25 format=3 uid="uid://p3jlda1m27pr"]

[ext_resource type="Script" path="res://objects/player_fly_tux/player.gd" id="1_u8do1"]
[ext_resource type="Texture2D" uid="uid://c167igeb745kc" path="res://objects/player_fly_tux/plane.png" id="2_gkqfo"]
[ext_resource type="AudioStream" uid="uid://b7rc3ykc886xe" path="res://objects/player_fly_tux/flap.ogg" id="3_ws5lv"]
[ext_resource type="AudioStream" uid="uid://3u5ncjrcapv4" path="res://objects/player_fly_tux/darthit.wav" id="4_rm6tg"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_nfgvi"]
radius = 9.0
height = 64.0

[sub_resource type="AtlasTexture" id="AtlasTexture_ov1q7"]
atlas = ExtResource("2_gkqfo")
region = Rect2(3, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_dnlh5"]
atlas = ExtResource("2_gkqfo")
region = Rect2(3, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_hs3hd"]
atlas = ExtResource("2_gkqfo")
region = Rect2(54, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_d0jni"]
atlas = ExtResource("2_gkqfo")
region = Rect2(105, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_lfyt0"]
atlas = ExtResource("2_gkqfo")
region = Rect2(156, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_7x4h0"]
atlas = ExtResource("2_gkqfo")
region = Rect2(3, 70, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_ynx4q"]
atlas = ExtResource("2_gkqfo")
region = Rect2(156, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_11v68"]
atlas = ExtResource("2_gkqfo")
region = Rect2(105, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_otp4b"]
atlas = ExtResource("2_gkqfo")
region = Rect2(54, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_wdhic"]
atlas = ExtResource("2_gkqfo")
region = Rect2(3, 35, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_k61kb"]
atlas = ExtResource("2_gkqfo")
region = Rect2(156, 0, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_xs6b8"]
atlas = ExtResource("2_gkqfo")
region = Rect2(105, 0, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_rsegs"]
atlas = ExtResource("2_gkqfo")
region = Rect2(54, 0, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_b7jbk"]
atlas = ExtResource("2_gkqfo")
region = Rect2(3, 0, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_3jm3y"]
atlas = ExtResource("2_gkqfo")
region = Rect2(54, 0, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_2s3sh"]
atlas = ExtResource("2_gkqfo")
region = Rect2(105, 0, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_1a48y"]
atlas = ExtResource("2_gkqfo")
region = Rect2(156, 0, 51, 35)

[sub_resource type="AtlasTexture" id="AtlasTexture_oi0eh"]
atlas = ExtResource("2_gkqfo")
region = Rect2(156, 0, 51, 35)

[sub_resource type="SpriteFrames" id="SpriteFrames_hm1hv"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ov1q7")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnlh5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnlh5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnlh5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnlh5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hs3hd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d0jni")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lfyt0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7x4h0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ynx4q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_11v68")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_otp4b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnlh5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnlh5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnlh5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wdhic")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k61kb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xs6b8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rsegs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b7jbk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3jm3y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2s3sh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1a48y")
}],
"loop": true,
"name": &"fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_oi0eh")
}],
"loop": false,
"name": &"fly",
"speed": 5.0
}]

[node name="player" type="CharacterBody2D" groups=["players"]]
script = ExtResource("1_u8do1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(11, 8)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_nfgvi")

[node name="Sprite" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(1, 0)
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_hm1hv")
animation = &"fall"
speed_scale = 1.2

[node name="flap" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("3_ws5lv")
volume_db = 5.503

[node name="death" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_rm6tg")
```

## objects/points/points.gd

```text
extends Sprite2D

var speed = 150
var growth = .1
var life = 0
# Called when the node enters the scene tree for the first time.
func _ready():
	scale = Vector2(.2,.2)
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	life += delta
	if life > 1:
		queue_free()
	scale += Vector2(growth*delta,growth*delta)
	position.y -= speed * delta
```

## objects/points/points.tscn

```text
[gd_scene load_steps=3 format=3 uid="uid://ktr5i3ugxco"]

[ext_resource type="Texture2D" uid="uid://v502wspyd6ed" path="res://objects/points/100.png" id="1_bvrg0"]
[ext_resource type="Script" path="res://objects/points/points.gd" id="2_0xrtb"]

[node name="points" type="Sprite2D"]
texture = ExtResource("1_bvrg0")
script = ExtResource("2_0xrtb")
```

## scenes/shop_layer.tscn

```text
[gd_scene load_steps=28 format=3 uid="uid://chjm3ynmt3upt"]

[ext_resource type="Texture2D" uid="uid://d2fnnvxorxvcr" path="res://UI/x.png" id="1_d6vye"]
[ext_resource type="Texture2D" uid="uid://b0p1pfy6twv77" path="res://UI/Shop/Assets/sand_castle-thumb.png" id="2_nhlsy"]
[ext_resource type="Texture2D" uid="uid://bydct36mp6clb" path="res://UI/Shop/Assets/sand_castle-pressed.png" id="3_tfn4l"]
[ext_resource type="Texture2D" uid="uid://bv2ff4b74ot2k" path="res://UI/Shop/Assets/highlight.png" id="4_oeail"]
[ext_resource type="Texture2D" uid="uid://browoecr6ju12" path="res://UI/Shop/Assets/shell-thumb.png" id="5_avy8h"]
[ext_resource type="Texture2D" uid="uid://cws1gq0bx7kml" path="res://UI/Shop/Assets/shell-pressed.png" id="6_jkcpa"]
[ext_resource type="Texture2D" uid="uid://nwwexaiml77p" path="res://UI/Shop/Assets/umbrella.png" id="7_x2c1p"]
[ext_resource type="Texture2D" uid="uid://bdkd202r5tes6" path="res://UI/Shop/Assets/umbrella-pressed.png" id="8_e0j7f"]
[ext_resource type="Texture2D" uid="uid://c3mddcfm1amxi" path="res://UI/Shop/Assets/table-thumb.png" id="9_8i35g"]
[ext_resource type="Texture2D" uid="uid://c7q6d7773jwe3" path="res://UI/Shop/Assets/table-pressed.png" id="10_2wbgv"]
[ext_resource type="Texture2D" uid="uid://1452u40ew6sq" path="res://UI/Shop/Assets/tvs-thumb.png" id="11_joukm"]
[ext_resource type="Texture2D" uid="uid://bo7hf8ya1ldvg" path="res://UI/Shop/Assets/tvs-pressed.png" id="12_yu04q"]
[ext_resource type="Texture2D" uid="uid://d3hb35wfyb0p1" path="res://UI/Shop/Assets/chair.png" id="13_xn57e"]
[ext_resource type="Texture2D" uid="uid://b5isdopy62o3u" path="res://UI/Shop/Assets/chair-pressed.png" id="14_idwlm"]
[ext_resource type="Texture2D" uid="uid://skqvu6eq3cao" path="res://UI/Shop/Assets/lamp-thumb.png" id="15_for3c"]
[ext_resource type="Texture2D" uid="uid://iajsn6haenbj" path="res://UI/Shop/Assets/lamp-pressed.png" id="16_16eu3"]
[ext_resource type="Texture2D" uid="uid://brayo582ffjo2" path="res://UI/Shop/Assets/fruit_basket-thumb.png" id="17_sp00u"]
[ext_resource type="Texture2D" uid="uid://b5kbkvmqpoh7i" path="res://UI/Shop/Assets/fruit_basket-pressed.png" id="18_ejvdm"]
[ext_resource type="Texture2D" uid="uid://ux7ged6igjg6" path="res://Tanks/tier_1-thumb.png" id="19_vup85"]
[ext_resource type="Texture2D" uid="uid://jur6tca8lcu7" path="res://Tanks/tier_1-pressed.png" id="20_f2ghc"]
[ext_resource type="Texture2D" uid="uid://bkb3aj565k41c" path="res://Tanks/tier_2-thumb.png" id="21_81rkd"]
[ext_resource type="Texture2D" uid="uid://2e4nyyl0h85a" path="res://Tanks/tier_2-pressed.png" id="22_y2tqf"]
[ext_resource type="Texture2D" uid="uid://bgkl8t2ik7ltm" path="res://Tanks/tier_3-thumb.png" id="23_fi8w0"]
[ext_resource type="Texture2D" uid="uid://d24eghvxw4b1i" path="res://Tanks/tier_3-pressed.png" id="24_gvb4c"]
[ext_resource type="Theme" uid="uid://bm2ie0ervgafp" path="res://UI/buttons/button.tres" id="25_0iide"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_u5adk"]
bg_color = Color(0.101961, 0.0588235, 0.34902, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_y2yl7"]

[node name="ShopLayer" type="CanvasLayer"]

[node name="Panel" type="Panel" parent="."]
offset_right = 1152.0
offset_bottom = 648.0
theme_override_styles/panel = SubResource("StyleBoxFlat_u5adk")

[node name="PetShop" type="GridContainer" parent="Panel"]
layout_mode = 0
offset_left = 11.0
offset_top = 5.0
offset_right = 1141.0
offset_bottom = 633.0

[node name="HBoxContainer" type="HBoxContainer" parent="Panel/PetShop"]
layout_mode = 2

[node name="Label" type="Label" parent="Panel/PetShop/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_styles/normal = SubResource("StyleBoxEmpty_y2yl7")
text = "Magasin"

[node name="TextureButton" type="TextureButton" parent="Panel/PetShop/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("1_d6vye")

[node name="GridContainer" type="GridContainer" parent="Panel/PetShop"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 4

[node name="Item0" type="TextureButton" parent="Panel/PetShop/GridContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../../GridContainer3/BuyButton")
focus_neighbor_top = NodePath("../../GridContainer3/BuyButton")
focus_neighbor_right = NodePath("../Item1")
focus_neighbor_bottom = NodePath("../Item4")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("2_nhlsy")
texture_pressed = ExtResource("3_tfn4l")
texture_focused = ExtResource("4_oeail")

[node name="Item1" type="TextureButton" parent="Panel/PetShop/GridContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item0")
focus_neighbor_top = NodePath("../../GridContainer3/BuyButton")
focus_neighbor_right = NodePath("../Item2")
focus_neighbor_bottom = NodePath("../Item5")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("5_avy8h")
texture_pressed = ExtResource("6_jkcpa")
texture_focused = ExtResource("4_oeail")

[node name="Item2" type="TextureButton" parent="Panel/PetShop/GridContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item1")
focus_neighbor_top = NodePath("../../GridContainer3/BuyButton")
focus_neighbor_right = NodePath("../Item3")
focus_neighbor_bottom = NodePath("../Item6")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("7_x2c1p")
texture_pressed = ExtResource("8_e0j7f")
texture_focused = ExtResource("4_oeail")

[node name="Item3" type="TextureButton" parent="Panel/PetShop/GridContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item2")
focus_neighbor_top = NodePath("../../GridContainer3/BuyButton")
focus_neighbor_right = NodePath("../Item4")
focus_neighbor_bottom = NodePath("../Item7")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("9_8i35g")
texture_pressed = ExtResource("10_2wbgv")
texture_focused = ExtResource("4_oeail")

[node name="Item4" type="TextureButton" parent="Panel/PetShop/GridContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item3")
focus_neighbor_top = NodePath("../Item0")
focus_neighbor_right = NodePath("../Item5")
focus_neighbor_bottom = NodePath("../../GridContainer2/Item0")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("11_joukm")
texture_pressed = ExtResource("12_yu04q")
texture_focused = ExtResource("4_oeail")

[node name="Item5" type="TextureButton" parent="Panel/PetShop/GridContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item4")
focus_neighbor_top = NodePath("../Item1")
focus_neighbor_right = NodePath("../Item6")
focus_neighbor_bottom = NodePath("../../GridContainer2/Item1")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("13_xn57e")
texture_pressed = ExtResource("14_idwlm")
texture_focused = ExtResource("4_oeail")

[node name="Item6" type="TextureButton" parent="Panel/PetShop/GridContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item5")
focus_neighbor_top = NodePath("../Item2")
focus_neighbor_right = NodePath("../Item7")
focus_neighbor_bottom = NodePath("../../GridContainer2/Item2")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("15_for3c")
texture_pressed = ExtResource("16_16eu3")
texture_focused = ExtResource("4_oeail")

[node name="Item7" type="TextureButton" parent="Panel/PetShop/GridContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item6")
focus_neighbor_top = NodePath("../Item3")
focus_neighbor_right = NodePath("../../GridContainer2/Item0")
focus_neighbor_bottom = NodePath("../../GridContainer3/BuyButton")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("17_sp00u")
texture_pressed = ExtResource("18_ejvdm")
texture_focused = ExtResource("4_oeail")

[node name="HSplitContainer2" type="HSplitContainer" parent="Panel/PetShop"]
layout_mode = 2

[node name="Label" type="Label" parent="Panel/PetShop/HSplitContainer2"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_styles/normal = SubResource("StyleBoxEmpty_y2yl7")
text = "Tanks:"

[node name="GridContainer2" type="GridContainer" parent="Panel/PetShop"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 4

[node name="Item0" type="TextureButton" parent="Panel/PetShop/GridContainer2"]
layout_mode = 2
focus_neighbor_left = NodePath("../../GridContainer/Item7")
focus_neighbor_top = NodePath("../../GridContainer/Item4")
focus_neighbor_right = NodePath("../Item1")
focus_neighbor_bottom = NodePath("../../GridContainer3/BuyButton")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("19_vup85")
texture_pressed = ExtResource("20_f2ghc")
texture_focused = ExtResource("4_oeail")

[node name="Item1" type="TextureButton" parent="Panel/PetShop/GridContainer2"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item0")
focus_neighbor_top = NodePath("../../GridContainer/Item5")
focus_neighbor_right = NodePath("../Item2")
focus_neighbor_bottom = NodePath("../../GridContainer3/BuyButton")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("21_81rkd")
texture_pressed = ExtResource("22_y2tqf")
texture_focused = ExtResource("4_oeail")

[node name="Item2" type="TextureButton" parent="Panel/PetShop/GridContainer2"]
layout_mode = 2
focus_neighbor_left = NodePath("../Item1")
focus_neighbor_top = NodePath("../../GridContainer/Item6")
focus_neighbor_right = NodePath("../../GridContainer3/BuyButton")
focus_neighbor_bottom = NodePath("../../GridContainer3/BuyButton")
focus_mode = 1
toggle_mode = true
texture_normal = ExtResource("23_fi8w0")
texture_pressed = ExtResource("24_gvb4c")
texture_focused = ExtResource("4_oeail")

[node name="GridContainer3" type="GridContainer" parent="Panel/PetShop"]
custom_minimum_size = Vector2(200, 50)
layout_mode = 2
columns = 3

[node name="PriceLabel" type="Label" parent="Panel/PetShop/GridContainer3"]
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
text = "Prix:                              "

[node name="PriceLabel2" type="Label" parent="Panel/PetShop/GridContainer3"]
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
text = "0 Chamallow(s)
"

[node name="BuyButton" type="Button" parent="Panel/PetShop/GridContainer3"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
focus_neighbor_left = NodePath("../../GridContainer2/Item2")
focus_neighbor_top = NodePath("../../GridContainer2/Item2")
focus_neighbor_right = NodePath("../../GridContainer/Item0")
focus_neighbor_bottom = NodePath("../../GridContainer/Item0")
theme = ExtResource("25_0iide")
text = "Acheter"
```

## scenes/title.gd

```text
extends Control

var next_scene = "res://scenes/title_menu.tscn"

# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
	#pass

func next():
	get_tree().change_scene_to_file(next_scene)
```

## scenes/title.tscn

```text
[gd_scene load_steps=5 format=3 uid="uid://cr5eitmlmxi1"]

[ext_resource type="Script" path="res://scenes/title.gd" id="1"]

[sub_resource type="Animation" id="Animation_x071y"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_v06t7"]
resource_name = "default"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 2.5, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"next"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ect2t"]
_data = {
"RESET": SubResource("Animation_x071y"),
"default": SubResource("Animation_v06t7")
}

[node name="title" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1")

[node name="Label" type="Label" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 31
text = "

Â©Akrib 2024
License GPLv3

"
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_ect2t")
}
autoplay = "default"
```

## scenes/title_menu.gd

```text
extends Control


# Called when the node enters the scene tree for the first time.
func _ready():
	pass
	#if Global.scores.size() > 0 :
		#Global.save_score()
		#Global.scores.sort();
		#Global.scores.reverse()
		#$high_scores.text = "High Scores"
		#
		#var i = 0
		#for s in Global.scores:
			#i += 1
			#if i > 8:
				#break
			#if s != 0:
				#$high_scores.text += "\n" + str(s)



# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
	#pass

func _input(event):
	if event.is_pressed():
		$AnimationPlayer.play("start_game")
		
func start_game():
	get_tree().change_scene_to_file("res://maps/map_01.tscn")
```

## scenes/title_menu.tscn

```text
[gd_scene load_steps=28 format=3 uid="uid://x8t8ehamt1gq"]

[ext_resource type="Texture2D" uid="uid://c8e86pmrwbub4" path="res://maps/backgrounds/SnowMountainsSky.png" id="1_10pxj"]
[ext_resource type="Script" path="res://scenes/title_menu.gd" id="1_fyitx"]
[ext_resource type="Texture2D" uid="uid://clrgqk3axa7vv" path="res://maps/backgrounds/arcticmountains.png" id="2_4jdug"]
[ext_resource type="AudioStream" uid="uid://ca7j6ywp01uu4" path="res://music/jewels.ogg" id="5_q5l38"]
[ext_resource type="Texture2D" uid="uid://c167igeb745kc" path="res://objects/player_fly_tux/plane.png" id="5_ugli6"]

[sub_resource type="Animation" id="Animation_83c4i"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("music:volume_db")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_10415"]
resource_name = "credits"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("music:volume_db")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, -80.0]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(1),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"start_credits"
}]
}

[sub_resource type="Animation" id="Animation_b1hgk"]
resource_name = "load"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_t11c8"]
resource_name = "start_game"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("music:volume_db")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, -80.0]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.7),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"start_game"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3wvln"]
_data = {
"RESET": SubResource("Animation_83c4i"),
"credits": SubResource("Animation_10415"),
"load": SubResource("Animation_b1hgk"),
"start_game": SubResource("Animation_t11c8")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_jt2s8"]
atlas = ExtResource("5_ugli6")
region = Rect2(3, 2, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_pq0p6"]
atlas = ExtResource("5_ugli6")
region = Rect2(54, 2, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_akqc1"]
atlas = ExtResource("5_ugli6")
region = Rect2(105, 2, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_jfkgo"]
atlas = ExtResource("5_ugli6")
region = Rect2(156, 2, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_4l3fj"]
atlas = ExtResource("5_ugli6")
region = Rect2(3, 37, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_7osg3"]
atlas = ExtResource("5_ugli6")
region = Rect2(54, 37, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_dhyi8"]
atlas = ExtResource("5_ugli6")
region = Rect2(105, 37, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_kd5lr"]
atlas = ExtResource("5_ugli6")
region = Rect2(156, 37, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_d1px0"]
atlas = ExtResource("5_ugli6")
region = Rect2(3, 72, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_fuv2e"]
atlas = ExtResource("5_ugli6")
region = Rect2(156, 37, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_b14bm"]
atlas = ExtResource("5_ugli6")
region = Rect2(105, 37, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_pkwu3"]
atlas = ExtResource("5_ugli6")
region = Rect2(54, 37, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_1en35"]
atlas = ExtResource("5_ugli6")
region = Rect2(3, 37, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_ikh3w"]
atlas = ExtResource("5_ugli6")
region = Rect2(156, 2, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_dmgwc"]
atlas = ExtResource("5_ugli6")
region = Rect2(105, 2, 51, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_r666f"]
atlas = ExtResource("5_ugli6")
region = Rect2(54, 2, 51, 33)

[sub_resource type="SpriteFrames" id="SpriteFrames_6lrln"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jt2s8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pq0p6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_akqc1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jfkgo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4l3fj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7osg3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dhyi8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kd5lr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d1px0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fuv2e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b14bm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pkwu3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1en35")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ikh3w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dmgwc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r666f")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Title Menu" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_fyitx")

[node name="background" type="Sprite2D" parent="."]
position = Vector2(588, 332.5)
scale = Vector2(2.65611, 0.918056)
texture = ExtResource("1_10pxj")

[node name="background2" type="Sprite2D" parent="."]
position = Vector2(579.298, 588.5)
scale = Vector2(0.692115, 0.306)
texture = ExtResource("2_4jdug")

[node name="Title" type="Label" parent="."]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 178.0
grow_horizontal = 2
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 5
theme_override_constants/shadow_outline_size = 9
theme_override_font_sizes/font_size = 67
text = "Lettre Ã  BÃ©a"
horizontal_alignment = 1
vertical_alignment = 1

[node name="message" type="Label" parent="."]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -95.0
grow_horizontal = 2
grow_vertical = 0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 5
theme_override_constants/shadow_outline_size = 9
theme_override_font_sizes/font_size = 32
text = "Appuie pour commencer
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="high_scores" type="Label" parent="."]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -542.0
offset_bottom = -155.0
grow_horizontal = 2
grow_vertical = 0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 5
theme_override_constants/shadow_outline_size = 9
theme_override_font_sizes/font_size = 32
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_3wvln")
}
autoplay = "load"

[node name="music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_q5l38")
autoplay = true

[node name="player" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(590, 339)
scale = Vector2(3, 3)
sprite_frames = SubResource("SpriteFrames_6lrln")
autoplay = "default"
frame_progress = 0.0560335

[node name="CreditsTimer" type="Timer" parent="."]
wait_time = 125.862
one_shot = true
autostart = true

[connection signal="timeout" from="CreditsTimer" to="." method="_on_credits_timer_timeout"]
```

## Tanks/tank-tier_0.tscn

```text
[gd_scene load_steps=5 format=2]

[ext_resource path="res://Tanks/tank-tier_0.png" type="Texture2D" id=1]
[ext_resource path="res://Tanks/food.png" type="Texture2D" id=2]

[sub_resource type="Animation" id=2]
resource_name = "Clean"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("Tank-tier0:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0, 1.8, 2.3, 3.9 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0, 8, 8, 0 ]
}

[sub_resource type="Animation" id=1]
resource_name = "Food"
length = 10.0
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0.1, 10 ),
"transitions": PackedFloat32Array( 1, 1 ),
"update": 0,
"values": [ 0, 9 ]
}

[node name="Node2D" type="Node2D"]

[node name="Tank-tier0" type="Sprite2D" parent="."]
position = Vector2( 0, 1 )
texture = ExtResource( 1 )
hframes = 9

[node name="TankBorder" type="StaticBody2D" parent="."]
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="TankBorder"]
polygon = PackedVector2Array( -9, -1, -28, -2, -44, 57, -67, 52, -3, -59, 62, 53, 42, 65, -34, 66, -40, 58, 12, 58, 47, 53, 40.1763, 43.7392, 33, 34, 21, 2, 18, -1 )

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2( -3, 6 )
texture = ExtResource( 2 )
hframes = 10
frame = 9

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Clean = SubResource( 2 )
anims/Food = SubResource( 1 )
```

## Tanks/tank-tier_1.tscn

```text
[gd_scene load_steps=5 format=2]

[ext_resource path="res://Tanks/tank-tier_1.png" type="Texture2D" id=1]
[ext_resource path="res://Tanks/food.png" type="Texture2D" id=2]

[sub_resource type="Animation" id=1]
resource_name = "Clean"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("Tank-tier1:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0, 1.8, 2.3, 3.9 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0, 8, 8, 0 ]
}

[sub_resource type="Animation" id=2]
resource_name = "Food"
length = 10.0
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0.1, 10 ),
"transitions": PackedFloat32Array( 1, 1 ),
"update": 0,
"values": [ 0, 9 ]
}

[node name="Tank-tier1" type="Node2D"]
position = Vector2( 162, 92 )

[node name="Tank-tier1" type="Sprite2D" parent="."]
texture = ExtResource( 1 )
hframes = 9

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2( 1, -1 )
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2( -32, 50 )
polygon = PackedVector2Array( -11, -9, -29, -33, -31, -78, -17, -95, 56, -96, 57, -113, -16, -115, -38, -88, -38, -31, 0, 8, 41, 11, 67, 8, 101, -26, 106, -90, 62, -114, 60, -96, 84, -95, 99, -64, 92, -29, 78, -8 )

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2( -3, -38 )
texture = ExtResource( 2 )
hframes = 10
frame = 9

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Clean = SubResource( 1 )
anims/Food = SubResource( 2 )
```

## Tanks/tank-tier_2.tscn

```text
[gd_scene load_steps=5 format=2]

[ext_resource path="res://Tanks/tank-tier_2.png" type="Texture2D" id=1]
[ext_resource path="res://Tanks/food.png" type="Texture2D" id=2]

[sub_resource type="Animation" id=1]
resource_name = "Clean"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("Tank-tier2:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0, 1.8, 2.3, 3.9 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0, 8, 8, 0 ]
}

[sub_resource type="Animation" id=2]
resource_name = "Food"
length = 10.0
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0.1, 10 ),
"transitions": PackedFloat32Array( 1, 1 ),
"update": 0,
"values": [ 0, 9 ]
}

[node name="Node2D" type="Node2D"]

[node name="Tank-tier2" type="Sprite2D" parent="."]
texture = ExtResource( 1 )
hframes = 9

[node name="StaticBody2D" type="StaticBody2D" parent="."]
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2( -87, 0 )
polygon = PackedVector2Array( 0, 3, 0, 54, 174, 54, 175, -41, 1, -42, 0, -1, -7, 0, -6, -54, 189, -52, 192, 64, -8, 63, -7, 2 )

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2( -3, -35 )
texture = ExtResource( 2 )
hframes = 10
frame = 9

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Clean = SubResource( 1 )
anims/Food = SubResource( 2 )
```

## Tanks/tank-tier_3.tscn

```text
[gd_scene load_steps=5 format=2]

[ext_resource path="res://Tanks/tank-tier_3.png" type="Texture2D" id=1]
[ext_resource path="res://Tanks/food.png" type="Texture2D" id=2]

[sub_resource type="Animation" id=1]
resource_name = "Clean"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("Tank-tier3:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0, 1.8, 2.3, 3.9 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0, 8, 8, 0 ]
}

[sub_resource type="Animation" id=2]
resource_name = "Food"
length = 10.0
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0.1, 10 ),
"transitions": PackedFloat32Array( 1, 1 ),
"update": 0,
"values": [ 0, 9 ]
}

[node name="Node2D" type="Node2D"]

[node name="StaticBody2D" type="StaticBody2D" parent="."]
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2( -65, 0 )
polygon = PackedVector2Array( -71, 5, -71, 53, 223, 54, 222, -42, -71, -41, -72, 3, -87, 2, -97, -47, -69, -49, 234, -49, 245, 60, -96, 62, -87, 6 )

[node name="Tank-tier3" type="Sprite2D" parent="."]
position = Vector2( 10, 0 )
texture = ExtResource( 1 )
hframes = 9

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2( -3, -34 )
texture = ExtResource( 2 )
hframes = 10
frame = 9

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Clean = SubResource( 1 )
anims/Food = SubResource( 2 )
```

## UI/score.gd

```text
extends Label

@onready var player = get_tree().get_nodes_in_group("players")[0]

# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
	#pass


func update_score():
	if player.data["chamallow"] < player.data["current_chamallow"]:
		player.data["chamallow"] += 10
		#$sound.play(0)
		
	text = "Chamallow : " + str(round(player.data["chamallow"]))
```

## UI/score.tscn

```text
[gd_scene load_steps=3 format=3 uid="uid://dawdf5bq8f78s"]

[ext_resource type="Script" path="res://UI/score.gd" id="1_r0kd6"]
[ext_resource type="AudioStream" uid="uid://c76vpiiqctsjp" path="res://UI/score.ogg" id="2_djqhj"]

[node name="score" type="Label" groups=["score"]]
top_level = true
offset_right = 186.0
offset_bottom = 26.0
text = "Chamallow : 0"
script = ExtResource("1_r0kd6")

[node name="Timer" type="Timer" parent="."]
wait_time = 0.1
autostart = true

[node name="sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("2_djqhj")
volume_db = -10.0

[connection signal="timeout" from="Timer" to="." method="update_score"]
```

## Statistics

- Total Files: 21
- Total Characters: 59901
- Total Tokens: 0
